<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="天地一键">
<meta property="og:url" content="http://yoursite.com/page/6/index.html">
<meta property="og:site_name" content="天地一键">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="天地一键">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/6/">





  <title>天地一键</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-139350612-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">天地一键</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/22/swsad-postgresql/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/22/swsad-postgresql/" itemprop="url">Ubuntu下PostgreSQL的安装使用及远程访问</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-22T15:52:02+08:00">
                2019-06-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/系统分析/" itemprop="url" rel="index">
                    <span itemprop="name">系统分析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>我使用了Django做系分项目的后端，它自带的数据库是sqlite，这个开发阶段用一下还行，上线之后不会使用它的，Django还支持Mysql和PostgreSQL，我原本就是有点抗拒Mysql的，因为之前在win10上使用过，当时用完就卸载了，后来又需要使用的时候怎么安装都装不上，最后废了好大劲才给它装上，据说是因为卸载的时候很难卸载干净。从此以后我对Mysql就产生了不好的感觉，后来我又发现Django有两个filed即ArrayField和JSONField只有PostgreSQL才支持，我在设计数据库的时候就想到了如果有这两种字段就好了，没想到还真有，于是我就决定使用PostgreSQL了。Win10上安装没碰见一点问题，直接安装一路点下去就行了。不过部署到云服务器的时候还是有一点麻烦的，主要是第一次在Ubuntu上使用数据库，很不熟练。接下来我就详细说一下安装使用步骤。</p>
<h5 id="安装使用"><a href="#安装使用" class="headerlink" title="安装使用"></a>安装使用</h5><p>环境：腾讯云服务器Ubuntu16.04 LTS Server</p>
<h6 id="卸载python2安装python3"><a href="#卸载python2安装python3" class="headerlink" title="卸载python2安装python3"></a>卸载python2安装python3</h6><p>腾讯云默认的python是python2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3.5 # 安装python</span><br><span class="line">sudo apt-get install python3-pip # 安装python 3-pip</span><br><span class="line">sudo rm /usr/bin/python # 删除python 2.7版本</span><br><span class="line">sudo ln -s /usr/bin/python3.5 /usr/bin/python  # 将python链接到最新3.5版的</span><br><span class="line">pip3 install upgrade -- pip # 升级pip</span><br></pre></td></tr></table></figure>
<h6 id="PostgreSQL安装"><a href="#PostgreSQL安装" class="headerlink" title="PostgreSQL安装"></a>PostgreSQL安装</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-pip python3-dev libpq-dev postgresql postgresql-contrib</span><br><span class="line">sudo apt-get install python-psycopg2</span><br></pre></td></tr></table></figure>
<h6 id="PostgreSQL使用"><a href="#PostgreSQL使用" class="headerlink" title="PostgreSQL使用"></a>PostgreSQL使用</h6><p>键入以下内容登录到交互式Postgres会话：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u postgres psql</span><br></pre></td></tr></table></figure>
<p>此时界面会变成这样的：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0de6f48fb8284404.png" alt="UTOOLS1561192181220.png"></p>
<p>其中，<code>sudo -u postgres</code> 是使用postgres用户登录的意思，因为在安装PostgreSQL的时候会自动创建这么一个用户，并且这个用户的密码是随机的，所以要使用数据库的话也就有了两种方法，一种是更改这个postgres用户的密码，另一种是创建一个新用户，我选第二种，因为对我来说postgres这个用户名太长了。具体做法是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER bob WITH PASSWORD &apos;yourPassword&apos;;</span><br></pre></td></tr></table></figure>
<p>这样就行了（我创建了一个用户名为bob的用户），如果你喜欢第一种方法的话，也很简单：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER postgres WITH PASSWORD &apos;yourPassword&apos;;</span><br></pre></td></tr></table></figure>
<p>注意每行指令后面都有分号。</p>
<p>然后就可以创建数据库了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE db1;  #创建名为db1的数据库</span><br><span class="line">GRANT ALL PRIVILEGES ON DATABASE db1 TO bob;  #给数据库用户访问上面一行创建的数据库的权限</span><br></pre></td></tr></table></figure>
<p>最后输入<code>\q</code>退出postgres：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0ded9cabd5894526.png" alt="UTOOLS1561193884873.png"></p>
<p>这时候已经创建完了数据库及其用户。然后需要安装psycopg2，这是python与PostgreSQL交互用的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 install psycopg2  #Fail</span><br><span class="line">apt-get install python-psycopg2  #Success</span><br></pre></td></tr></table></figure>
<p>这也是一个坑啊，我在WIn10上用第一行命令安装成功了，于是我在Ubuntu上还用它（网上有些教程也是用的它），结果一直失败，最后我一气之下重置了系统并且只是灵机一动地尝试了一下第二行命令，结果就成功了，唉。这时候就可以在Django里使用这个数据库了，修改Django的settings.py文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">'default'</span>: &#123;</span><br><span class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.postgresql_psycopg2'</span>,</span><br><span class="line">        <span class="string">'NAME'</span>: <span class="string">'db'</span>,</span><br><span class="line">        <span class="string">'USER'</span>: <span class="string">'user'</span>,</span><br><span class="line">        <span class="string">'PASSWORD'</span>: <span class="string">'123456'</span>,</span><br><span class="line">        <span class="string">'HOST'</span>: <span class="string">'localhost'</span>,</span><br><span class="line">        <span class="string">'PORT'</span>: <span class="string">''</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="远程访问"><a href="#远程访问" class="headerlink" title="远程访问"></a>远程访问</h5><p>在服务器上数据库里有什么内容我们很不方便查看，毕竟它没有图形界面，不像在Win10上可以直接用pgAdmin查看。开发的时候有时候看看数据库里有什么会让人更放心（反正我是这样的）。好消息是pgAdmin也可以访问远程地数据库。只需按如下步骤配置：</p>
<p>首先进入<code>/etc/postgresql/9.5/main</code>这个目录</p>
<p><img src="https://i.loli.net/2019/06/22/5d0dee81c8e8142148.png" alt="UTOOLS1561194112603.png"></p>
<p>可以看到里面有一些配置文件，我们需要做一些修改：</p>
<h6 id="修改postgresql-conf"><a href="#修改postgresql-conf" class="headerlink" title="修改postgresql.conf"></a>修改postgresql.conf</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi postgresql.conf</span><br></pre></td></tr></table></figure>
<ul>
<li><p>第59行修改监听地址，去掉前面 # 号，并将 ‘localhost’ 改为 ‘*’</p>
<p><img src="https://i.loli.net/2019/06/22/5d0df04b30ea363479.png" alt="UTOOLS1561194571114.png"></p>
</li>
<li><p>第88行启用密码验证，将 <code>#password_encryption = on</code> 前面的 # 号去掉</p>
<p><img src="https://i.loli.net/2019/06/22/5d0df0ec537d040787.png" alt="UTOOLS1561194732808.png"></p>
</li>
</ul>
<h6 id="修改pg-hba-conf"><a href="#修改pg-hba-conf" class="headerlink" title="修改pg_hba.conf"></a>修改pg_hba.conf</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi pg_hba.conf</span><br></pre></td></tr></table></figure>
<p>文件末尾添加：<code>host all all 0.0.0.0 0.0.0.0 md5</code></p>
<p><img src="https://i.loli.net/2019/06/22/5d0df1998491953045.png" alt="UTOOLS1561194906436.png"></p>
<h6 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /etc/init.d/postgresql restart</span><br></pre></td></tr></table></figure>
<h6 id="设置5432端口的防火墙"><a href="#设置5432端口的防火墙" class="headerlink" title="设置5432端口的防火墙"></a>设置5432端口的防火墙</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 5432 -j ACCEPT</span><br></pre></td></tr></table></figure>
<h6 id="pgAdmin连接"><a href="#pgAdmin连接" class="headerlink" title="pgAdmin连接"></a>pgAdmin连接</h6><p><img src="https://i.loli.net/2019/06/22/5d0df3038dda498641.png" alt="UTOOLS1561195268310.png"></p>
<p>先右键选择创建服务器连接</p>
<p><img src="https://i.loli.net/2019/06/22/5d0df343ee68654979.png" alt="UTOOLS1561195332546.png"></p>
<p>name可以随便起</p>
<p><img src="https://i.loli.net/2019/06/22/5d0df3b62229f46864.png" alt="UTOOLS1561195446613.png"></p>
<p>输入刚才创建的用户名和数据库名以及密码，Host输入服务器的公网ip地址，点击Save。</p>
<p><img src="https://i.loli.net/2019/06/22/5d0df4132821279263.png" alt="UTOOLS1561195540178.png"></p>
<p>然后就可以看到我们的数据库db1已经现身了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/22/swsad-django-img/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/22/swsad-django-img/" itemprop="url">Django中图片的上传和访问问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-22T12:53:45+08:00">
                2019-06-22
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/系统分析/" itemprop="url" rel="index">
                    <span itemprop="name">系统分析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近做系统分析项目的小程序的时候，需要一个上传和查看图片的功能，而我使用的后端框架是Django，所以就来说一下Django是如何处理图片的，还有这中间遇到了哪些坑。</p>
<h5 id="上传图片"><a href="#上传图片" class="headerlink" title="上传图片"></a>上传图片</h5><p>上传图片比较简单，首先要在项目的settings.py文件里面加上下面两行：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">'media'</span>) <span class="comment"># media即为图片上传的根路径</span></span><br><span class="line">MEDIA_URL = <span class="string">'/media/'</span></span><br></pre></td></tr></table></figure>
<p>在models.py里使用Django自带的ImageField，比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Img</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    img_url = models.ImageField(upload_to=<span class="string">'images/'</span>) <span class="comment"># upload_to指定图片上传的途径，如果不存在则自动创建</span></span><br></pre></td></tr></table></figure>
<p>然后就可以编写views.py了，比如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">uploadImg</span><span class="params">(request)</span>:</span> <span class="comment"># 图片上传函数</span></span><br><span class="line">   <span class="keyword">if</span> request.method == <span class="string">'POST'</span>:</span><br><span class="line">       img = Img(img_url=request.FILES.get(<span class="string">'img'</span>))</span><br><span class="line">       img.save()</span><br><span class="line">   <span class="keyword">return</span> render(request, <span class="string">'imgupload.html'</span>)</span><br></pre></td></tr></table></figure>
<p>看到这可能会有点困惑，为什么会把ImageField命名为img_url呢？答案很简单，因为这个字段存储的就是图片的路径啊。好的，既然是路径，那在views.py里为什么又出现<code>img_url=request.FILES.get(&#39;img&#39;)</code>了呢？等号右边明明是图片文件啊！？刚开始我也很困惑，不过后来我实验过之后发现这样做的结果就是Django会把<code>request.FILES.get(&#39;img&#39;)</code>上传到<code>/media/images</code>这个目录里去，然后<code>img_url</code>这个字段存储的是<code>images/图片名</code>。OK，实验一下看看</p>
<p>在urls.py文件中添加url映射路径：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'uploadImg/'</span>, views.uploadImg),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>在所建app的目录新建文件夹templates,并创建uploadImg.html添加以下内容：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span>uploadImg<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">		&#123;% csrf_token %&#125;</span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"img"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>此时运行服务器，访问<a href="http://localhost:8000/uploadImg/，可以看到：" target="_blank" rel="noopener">http://localhost:8000/uploadImg/，可以看到：</a></p>
<p><img src="https://i.loli.net/2019/06/22/5d0db68898b3287841.png" alt="1561171432043.png"></p>
<p>选择一张图片然后点击submit，然后就可以在数据库里看到这个图片了：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0d9620ea2ee34235.png" alt="UTOOLS1561171489919.png"></p>
<p>而这张图片就保存在项目的根目录下的<code>media</code>文件夹下的<code>images</code>文件夹里：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0d96a5c71c757852.png" alt="UTOOLS1561171622558.png"></p>
<p>不如我们来看一下这个<code>img_url</code>到底是什么吧：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0db6b75598184880.png" alt="1561172136735.png"></p>
<p>打开Django的终端然后输入上图代码，可以看到这个<code>img_url</code>还有三个属性即url、path和name，url是就是从项目的根目录定位到图片的路径，而path是图片在本地的路径，name就是在数据库里存储的内容也就是我们在上上上张图里面看到的那行蓝色小字。</p>
<p>至此我们已经完成了上传图片的功能，那我们接下来看看如何查看图片吧，先点一下上面提到的那行蓝色小字试试看：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0d9a072e83d20737.png" alt="UTOOLS1561172487964.png"></p>
<p>结果就看到了这个，报错了啊，看看它说的什么，它说找不到<code>http://localhost:8000/media/images/0.jpg</code>这个路径，这么一看，的确，我们并没有在urls.py文件里面设置图片的路由信息。下面我就来说一下我遇到的坑，因为网上大部分都是说到怎么上传图片的，并没有说怎么查看，所以就只能自己摸索了。</p>
<h5 id="查看图片"><a href="#查看图片" class="headerlink" title="查看图片"></a>查看图片</h5><p>首先，在项目的urls.py里加入如下内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"><span class="keyword">from</span> django.conf.urls.static <span class="keyword">import</span> static</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> settings.DEBUG: <span class="comment"># new</span></span><br><span class="line">    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)</span><br></pre></td></tr></table></figure>
<p>Django服务器在代码有改动之后会自动重启，所以我们只需要刷新一下刚才的网页就可以看到：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0d9b923f0cd86691.png" alt="UTOOLS1561172882396.png"></p>
<p>成功啦！但是注意一下刚才添加的代码，它只有在DEBUG模式为True的情况下才会执行，然后好奇的我就把DEBUG模式改为False了，而且再说了，项目如果真要上线的话也要把DEBUG模式关了啊。这能不试试!!？</p>
<p><img src="https://i.loli.net/2019/06/22/5d0d9d1dbdaf624902.png" alt="UTOOLS1561173278447.png"></p>
<p>然而改了之后就变成这样的了……然后我就从网上查资料，得到的结果大概意思就是这种静态文件和媒体文件在上线后应该是服务器（比如Nginx）处理的事而不是Django处理的事，啊啊啊我不管我就要看（当时还不知道Nginx怎么搞），然后我又上网找，最终找到了这种办法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include</span><br><span class="line"></span><br><span class="line"><span class="comment"># from django.conf import settings</span></span><br><span class="line"><span class="comment"># from django.conf.urls.static import static</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</span><br><span class="line"><span class="keyword">from</span> django.views <span class="keyword">import</span> static</span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">''</span>, include(<span class="string">'Img.urls'</span>)),</span><br><span class="line">    url(<span class="string">r'^media/(?P&lt;path&gt;.*)$'</span>, static.serve,&#123;<span class="string">'document_root'</span>: settings.MEDIA_ROOT&#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>在urlpatterns里加入一个新的路由模式，大概就是说，如果碰到’media/‘开头的路由信息，就用静态文件来给它提供内容吧（我猜的）。OK，再刷新一下看看：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0d9f36654b920212.png" alt="UTOOLS1561173814501.png"></p>
<p>又能看到啦！</p>
<p>OK，现在我们只是能直接通过url来查看图片了，那么如何在网页中显示呢？改一下views.py文件：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Img</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">uploadImg</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'POST'</span>:</span><br><span class="line">        img = Img(img_url=request.FILES.get(<span class="string">'img'</span>))</span><br><span class="line">        img.save()</span><br><span class="line">        context = &#123;<span class="string">'img'</span>: img&#125;</span><br><span class="line">        <span class="keyword">return</span> render(request, <span class="string">'result.html'</span>, context=context)</span><br><span class="line">    <span class="keyword">return</span> render(request, <span class="string">'uploadImg.html'</span>)</span><br></pre></td></tr></table></figure>
<p>再在app目录下的templates文件夹中添加<code>result.html</code>文件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>result<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/media/&#123;&#123;img.img_url&#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;img.img_url.url&#125;&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/media/&#123;&#123;img.img_url.name&#125;&#125;"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>注意我在里面加了三个图片标签，然后我上传一张图片：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0da3f4ddfb479752.png" alt="UTOOLS1561175029577.png"></p>
<p>可以看到显示了三张图片，说明那三种查看图片的方式都可以使用，为什么是这样呢？我来分析一下，其实很简单，正如前面那张shell的截图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">img.img_url = <span class="string">'images/0.jpg'</span></span><br><span class="line">img.img_url.url = <span class="string">'/media/images/0.jpg'</span></span><br><span class="line">img.img_url.name = <span class="string">'images/0.jpg'</span></span><br></pre></td></tr></table></figure>
<p>这里假设图片名还是<code>0.jpg</code>，只要能搞懂上面这三行就能明白为什么可以这样访问图片了。刚开始我就是不知道这个东西而花了好多功夫才弄明白。</p>
<p>但其实<code>img.img_url</code>并不是字符串对象，只不过你call它的时候他会返回给它的<code>name</code>给你看：</p>
<p><img src="https://i.loli.net/2019/06/22/5d0da5f6791a029788.png" alt="UTOOLS1561175542090.png"></p>
<p>这下子基本就把Django中图片的上传与访问全弄清楚了，后来在部署Nginx的时候发现，关于图片的访问，只需要在它的配置文件里写三行代码就够了，不需要在urlpatterns里加新的路由信息，而且图片的请求本来就应该是Nginx负责处理的，详见<a href="http://tiandiyijian.top/2019/06/21/swsad-deploy/" target="_blank" rel="noopener">后端部署文档</a>。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/21/swsad-deploy/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/21/swsad-deploy/" itemprop="url">后端部署文档</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-21T16:34:44+08:00">
                2019-06-21
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/系统分析/" itemprop="url" rel="index">
                    <span itemprop="name">系统分析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="部署架构图"><a href="#部署架构图" class="headerlink" title="部署架构图"></a>部署架构图</h4><p><img src="https://i.loli.net/2019/06/21/5d0c9b1f2d1e297107.png" alt="UTOOLS1561107231340.png"></p>
<h4 id="部署流程"><a href="#部署流程" class="headerlink" title="部署流程"></a>部署流程</h4><h5 id="服务器后台环境配置"><a href="#服务器后台环境配置" class="headerlink" title="服务器后台环境配置"></a>服务器后台环境配置</h5><h6 id="服务器系统环境"><a href="#服务器系统环境" class="headerlink" title="服务器系统环境"></a>服务器系统环境</h6><ul>
<li>腾讯云 Ubuntu 16.04 LTS Server</li>
</ul>
<h6 id="Postgresql安装"><a href="#Postgresql安装" class="headerlink" title="Postgresql安装"></a>Postgresql安装</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3-pip python3-dev libpq-dev postgresql postgresql-contrib</span><br><span class="line">sudo apt-get install python-psycopg2</span><br></pre></td></tr></table></figure>
<p>然后键入以下内容登录到交互式Postgres会话：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u postgres psql</span><br></pre></td></tr></table></figure>
<p>然后创建数据库和用户（注意结尾的分号）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE myproject;</span><br><span class="line">CREATE USER myprojectuser WITH PASSWORD &apos;password&apos;;</span><br><span class="line">ALTER ROLE myprojectuser SET client_encoding TO &apos;utf8&apos;;</span><br><span class="line">ALTER ROLE myprojectuser SET default_transaction_isolation TO &apos;read committed&apos;;</span><br><span class="line">ALTER ROLE myprojectuser SET timezone TO &apos;UTC&apos;;</span><br><span class="line">GRANT ALL PRIVILEGES ON DATABASE myproject TO myprojectuser;</span><br></pre></td></tr></table></figure>
<p>退出SQL提示返回到<code>postgres</code>用户的shell会话：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\q</span><br></pre></td></tr></table></figure>
<h6 id="卸载python2安装python3"><a href="#卸载python2安装python3" class="headerlink" title="卸载python2安装python3"></a>卸载python2安装python3</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3.5 # 安装python</span><br><span class="line">sudo apt-get install python3-pip # 安装python 3-pip</span><br><span class="line">sudo rm /usr/bin/python # 删除python 2.7版本</span><br><span class="line">sudo ln -s /usr/bin/python3.5 /usr/bin/python  # 将python链接到最新3.5版的</span><br><span class="line">pip3 install upgrade -- pip # 升级pip</span><br></pre></td></tr></table></figure>
<h6 id="Django安装"><a href="#Django安装" class="headerlink" title="Django安装"></a>Django安装</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django #安装django</span><br></pre></td></tr></table></figure>
<h6 id="uwsgi安装"><a href="#uwsgi安装" class="headerlink" title="uwsgi安装"></a>uwsgi安装</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install uwsgi</span><br><span class="line">uwsgi -- version # 查看版本</span><br></pre></td></tr></table></figure>
<h6 id="nginx安装"><a href="#nginx安装" class="headerlink" title="nginx安装"></a>nginx安装</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nginx</span><br></pre></td></tr></table></figure>
<h5 id="服务器程序配置运行"><a href="#服务器程序配置运行" class="headerlink" title="服务器程序配置运行"></a>服务器程序配置运行</h5><h6 id="部署连接原理"><a href="#部署连接原理" class="headerlink" title="部署连接原理"></a>部署连接原理</h6><p>浏览器发起web请求&lt;——&gt;nginx接收请求&lt;——&gt;uwsgi处理请求&lt;—–&gt;django程序</p>
<h6 id="获取源代码"><a href="#获取源代码" class="headerlink" title="获取源代码"></a>获取源代码</h6><p>通过Filezilla向服务器上传Django项目源代码</p>
<p>然后更改settings.py中的DATABASES:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">'default'</span>: &#123;</span><br><span class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.postgresql_psycopg2'</span>,</span><br><span class="line">        <span class="string">'NAME'</span>: <span class="string">'myproject'</span>,</span><br><span class="line">        <span class="string">'USER'</span>: <span class="string">'myprojectuser'</span>,</span><br><span class="line">        <span class="string">'PASSWORD'</span>: <span class="string">'password'</span>,</span><br><span class="line">        <span class="string">'HOST'</span>: <span class="string">'localhost'</span>,</span><br><span class="line">        <span class="string">'PORT'</span>: <span class="string">''</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate #生产数据表</span><br><span class="line">python manage.py collectstatic #搜集静态文件</span><br><span class="line">python manage.py runserver 0.0.0.0:8000 #测试程序能否正常运行</span><br></pre></td></tr></table></figure>
<h6 id="配置UWSGI："><a href="#配置UWSGI：" class="headerlink" title="配置UWSGI："></a>配置UWSGI：</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># server.ini file</span><br><span class="line">[uwsgi]</span><br><span class="line"># Django-related settings</span><br><span class="line">http = 0.0.0.0:8000</span><br><span class="line"># socket = 127.0.0.1:8001</span><br><span class="line"># the base directory (full path)</span><br><span class="line">chdir           = /home/ubuntu/myproject/server</span><br><span class="line"># Django s wsgi file</span><br><span class="line">module          = server.wsgi</span><br><span class="line">master          = true</span><br><span class="line">processes       = 2</span><br><span class="line"></span><br><span class="line">daemonize = /home/ubuntu/myproject/server/uwsgi.log</span><br></pre></td></tr></table></figure>
<p>然后执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uwsgi --ini server.ini</span><br></pre></td></tr></table></figure>
<p>此时应该已经可以通过服务器的公网IP加8000端口访问服务端了</p>
<h6 id="配置Nginx："><a href="#配置Nginx：" class="headerlink" title="配置Nginx："></a>配置Nginx：</h6><p>执行以下命令创建并编辑项目的配置文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/nginx/sites-available/server.conf</span><br></pre></td></tr></table></figure>
<p>并在其中输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"># mysite_nginx.conf</span><br><span class="line"></span><br><span class="line"># the upstream component nginx needs to connect to</span><br><span class="line">upstream django &#123;</span><br><span class="line">    # server unix:///path/to/your/mysite/mysite.sock; # for a file socket</span><br><span class="line">    server 127.0.0.1:8001; # for a web port socket (we&apos;ll use this first)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># configuration of the server</span><br><span class="line">server &#123;</span><br><span class="line">    # the port your site will be served on</span><br><span class="line">    listen      8000;</span><br><span class="line">    # the domain name it will serve for</span><br><span class="line">    server_name 129.28.40.31; # substitute your machine&apos;s IP address or FQDN</span><br><span class="line">    charset     utf-8;</span><br><span class="line"></span><br><span class="line">    # max upload size</span><br><span class="line">    client_max_body_size 75M;   # adjust to taste</span><br><span class="line"></span><br><span class="line">    # Django media</span><br><span class="line">    location /media  &#123;</span><br><span class="line">        alias /home/ubuntu/myproject/server/media;  # your Django project&apos;s media files - amend as required</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location /static &#123;</span><br><span class="line">        alias /home/ubuntu/myproject/server/static; # your Django project&apos;s static files - amend as required</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # Finally, send all non-media requests to the Django server.</span><br><span class="line">    location / &#123;</span><br><span class="line">        uwsgi_pass  django;</span><br><span class="line">        include     /home/ubuntu/myproject/server/uwsgi_params; # the uwsgi_params file you installed</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此时把server.ini中的http行注释掉，并把sock行取消注释，然后重启uwsgi。</p>
<p>然后输入以下命令重启nginx：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure>
<p>至此完成了所有的部署流程。</p>
<h6 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h6><p>众所周知，http协议很不安全，于是我就购买了域名并且申请了SSL证书，重新配置server.conf如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"># mysite_nginx.conf</span><br><span class="line"></span><br><span class="line"># the upstream component nginx needs to connect to</span><br><span class="line">upstream django &#123;</span><br><span class="line">    # server unix:///path/to/your/mysite/mysite.sock; # for a file socket</span><br><span class="line">    server 127.0.0.1:8001; # for a web port socket (we&apos;ll use this first)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># configuration of the server</span><br><span class="line">server &#123;</span><br><span class="line">    # the port your site will be served on</span><br><span class="line">    #listen      80;</span><br><span class="line">    listen      443;</span><br><span class="line">    ssl on;</span><br><span class="line">    ssl_certificate /usr/local/nginx/conf/1_tiandiyijian.club_bundle.crt;</span><br><span class="line">    ssl_certificate_key /usr/local/nginx/conf/2_tiandiyijian.club.key;</span><br><span class="line">    ssl_session_timeout 5m;</span><br><span class="line">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    # the domain name it will serve for</span><br><span class="line">    #server_name 129.28.40.31; # substitute your machine&apos;s IP address or FQDN</span><br><span class="line">    server_name tiandiyijian.club;</span><br><span class="line">    charset     utf-8;</span><br><span class="line"></span><br><span class="line">    # max upload size</span><br><span class="line">    client_max_body_size 75M;   # adjust to taste</span><br><span class="line"></span><br><span class="line">    # Django media</span><br><span class="line">    location /media  &#123;</span><br><span class="line">        alias /home/ubuntu/myproject/server/media;  # your Django project&apos;s media files - amend as required</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location /static &#123;</span><br><span class="line">        alias /home/ubuntu/myproject/server/static; # your Django project&apos;s static files - amend as required</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # Finally, send all non-media requests to the Django server.</span><br><span class="line">    location / &#123;</span><br><span class="line">        uwsgi_pass  django;</span><br><span class="line">        include     /home/ubuntu/myproject/server/uwsgi_params; # the uwsgi_params file you installed</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后重启Nginx就可以通过https访问服务端了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/20/swsad-db/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/20/swsad-db/" itemprop="url">系分项目数据库设计</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-20T17:11:09+08:00">
                2019-06-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/系统分析/" itemprop="url" rel="index">
                    <span itemprop="name">系统分析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="ER图"><a href="#ER图" class="headerlink" title="ER图"></a>ER图</h4><p><img src="/2019/06/20/swsad-db/ER.png" alt="1561274670747"></p>
<h4 id="数据库物理模型"><a href="#数据库物理模型" class="headerlink" title="数据库物理模型"></a>数据库物理模型</h4><p>使用的数据库为Postgresql 11</p>
<h5 id="Users"><a href="#Users" class="headerlink" title="Users"></a>Users</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Field</th>
<th>Data type</th>
<th>Primary key?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>character varying</td>
<td>Yes</td>
<td>用户的openid</td>
</tr>
<tr>
<td>money</td>
<td>numeric</td>
<td></td>
<td>用户的余额</td>
</tr>
<tr>
<td>idOfSurveyAnswered</td>
<td>integer[]</td>
<td></td>
<td>用户回答过的问卷的id列表</td>
</tr>
<tr>
<td>idOfResumeAnswered</td>
<td>integer[]</td>
<td></td>
<td>用户回答过的简历的id列表</td>
</tr>
</tbody>
</table>
</div>
<h5 id="Surveys"><a href="#Surveys" class="headerlink" title="Surveys"></a>Surveys</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Field</th>
<th>Data type</th>
<th>Primary key？</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Yes</td>
<td>问卷的id</td>
</tr>
<tr>
<td>title</td>
<td>character varying</td>
<td></td>
<td>问卷名</td>
</tr>
<tr>
<td>description</td>
<td>character varying</td>
<td></td>
<td>问卷描述</td>
</tr>
<tr>
<td>numOfQuestions</td>
<td>integer</td>
<td></td>
<td>问卷问题数</td>
</tr>
<tr>
<td>reward</td>
<td>numeric</td>
<td></td>
<td>回答问卷得到的报酬</td>
</tr>
<tr>
<td>questions</td>
<td>json[]</td>
<td></td>
<td>问卷的问题</td>
</tr>
<tr>
<td>idOfReleaser</td>
<td>character varying</td>
<td></td>
<td>问卷发布者的id(openid)</td>
</tr>
<tr>
<td>stop</td>
<td>boolean</td>
<td></td>
<td>问卷是否已停止回答的标志</td>
</tr>
</tbody>
</table>
</div>
<h5 id="Resumes"><a href="#Resumes" class="headerlink" title="Resumes"></a>Resumes</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Field</th>
<th>Data type</th>
<th>Primary key？</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Yes</td>
<td>简历的id</td>
</tr>
<tr>
<td>title</td>
<td>character varying</td>
<td></td>
<td>简历名</td>
</tr>
<tr>
<td>description</td>
<td>character varying</td>
<td></td>
<td>简历描述</td>
</tr>
<tr>
<td>reward</td>
<td>numeric</td>
<td></td>
<td>简历问卷得到的报酬</td>
</tr>
<tr>
<td>questions</td>
<td>json[]</td>
<td></td>
<td>简历的问题</td>
</tr>
<tr>
<td>idOfReleaser</td>
<td>character varying</td>
<td></td>
<td>简历发布者的id(openid)</td>
</tr>
<tr>
<td>stop</td>
<td>boolean</td>
<td></td>
<td>简历是否已停止回答的标志</td>
</tr>
</tbody>
</table>
</div>
<h5 id="AnswerOfSurvey"><a href="#AnswerOfSurvey" class="headerlink" title="AnswerOfSurvey"></a>AnswerOfSurvey</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Field</th>
<th>Data type</th>
<th>Primary key？</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Yes</td>
<td>问卷答案的id</td>
</tr>
<tr>
<td>title</td>
<td>character varying</td>
<td></td>
<td>问卷名</td>
</tr>
<tr>
<td>numOfQuestions</td>
<td>integer</td>
<td></td>
<td>问卷问题数</td>
</tr>
<tr>
<td>idOfSurvey</td>
<td>integer</td>
<td></td>
<td>该答案对应的问卷的id</td>
</tr>
<tr>
<td>questions</td>
<td>json[]</td>
<td></td>
<td>问卷的问题</td>
</tr>
<tr>
<td>nameOfUser</td>
<td>character varying</td>
<td></td>
<td>问卷回答者的用户名</td>
</tr>
<tr>
<td>idOfReleaser</td>
<td>character varying</td>
<td></td>
<td>问卷发布者的id(openid)</td>
</tr>
</tbody>
</table>
</div>
<h5 id="AnswerOfResume"><a href="#AnswerOfResume" class="headerlink" title="AnswerOfResume"></a>AnswerOfResume</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Field</th>
<th>Data type</th>
<th>Primary key？</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>Yes</td>
<td style="text-align:left">简历答案的id</td>
</tr>
<tr>
<td>title</td>
<td>character varying</td>
<td></td>
<td style="text-align:left">简历名</td>
</tr>
<tr>
<td>idOfResume</td>
<td>integer</td>
<td></td>
<td style="text-align:left">该答案对应的简历的id</td>
</tr>
<tr>
<td>questions</td>
<td>json[]</td>
<td></td>
<td style="text-align:left">简历的问题</td>
</tr>
<tr>
<td>nameOfUser</td>
<td>character varying</td>
<td></td>
<td style="text-align:left">简历回答者的用户名</td>
</tr>
<tr>
<td>idOfReleaser</td>
<td>character varying</td>
<td></td>
<td style="text-align:left">简历发布者的id(openid)</td>
</tr>
<tr>
<td>photo</td>
<td>character varying</td>
<td></td>
<td style="text-align:left">该简历回答者上传的照片在服务器里的路径</td>
</tr>
</tbody>
</table>
</div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/19/swsad-api/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/19/swsad-api/" itemprop="url">Interface API design 接口 API 设计</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-19T22:58:30+08:00">
                2019-06-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/系统分析/" itemprop="url" rel="index">
                    <span itemprop="name">系统分析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="提交问卷"><a href="#提交问卷" class="headerlink" title="提交问卷"></a>提交问卷</h2><p><a id="提交问卷"> </a></p>
<h3 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /submitSurvey</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>用户提交填写的问卷</p>


<h3 id="请求参数"><a href="#请求参数" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Query</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>answer</td>
<td>是</td>
<td></td>
<td>用户回答的问卷及答案</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的openid</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据"><a href="#返回数据" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="余额"><a href="#余额" class="headerlink" title="余额"></a>余额</h2><p><a id="余额"> </a></p>
<h3 id="基本信息-1"><a href="#基本信息-1" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /money</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>获取用户余额</p>


<h3 id="请求参数-1"><a href="#请求参数-1" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的id</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-1"><a href="#返回数据-1" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>number</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">用户余额</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="停止问卷"><a href="#停止问卷" class="headerlink" title="停止问卷"></a>停止问卷</h2><p><a id="停止问卷"> </a></p>
<h3 id="基本信息-2"><a href="#基本信息-2" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /stopSurvey</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>使某个问卷不再收到回答</p>


<h3 id="请求参数-2"><a href="#请求参数-2" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>idOfSurvey</td>
<td>text</td>
<td>是</td>
<td></td>
<td>问卷id</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-2"><a href="#返回数据-2" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="发布简历"><a href="#发布简历" class="headerlink" title="发布简历"></a>发布简历</h2><p><a id="发布简历"> </a></p>
<h3 id="基本信息-3"><a href="#基本信息-3" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /releaseResume</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>用户发布自己创建的简历</p>


<h3 id="请求参数-3"><a href="#请求参数-3" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>resume</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户创建的简历</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-3"><a href="#返回数据-3" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="发布问卷"><a href="#发布问卷" class="headerlink" title="发布问卷"></a>发布问卷</h2><p><a id="发布问卷"> </a></p>
<h3 id="基本信息-4"><a href="#基本信息-4" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /releaseSurvey</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>用户发布自己创建的问卷</p>


<h3 id="请求参数-4"><a href="#请求参数-4" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>survey</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户创建的问卷</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-4"><a href="#返回数据-4" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="我的简历"><a href="#我的简历" class="headerlink" title="我的简历"></a>我的简历</h2><p><a id="我的简历"> </a></p>
<h3 id="基本信息-5"><a href="#基本信息-5" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /myResume</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>获取用户发布的简历的列表</p>


<h3 id="请求参数-5"><a href="#请求参数-5" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的openid</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-5"><a href="#返回数据-5" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>object []</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">我发布的简历的数组</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-0"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> id</span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历的id</span></td><td key="5"></td></tr><tr key="0-1"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历名</span></td><td key="5"></td></tr><tr key="0-2"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> description</span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历描述</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="我的问卷"><a href="#我的问卷" class="headerlink" title="我的问卷"></a>我的问卷</h2><p><a id="我的问卷"> </a></p>
<h3 id="基本信息-6"><a href="#基本信息-6" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /mySurvey</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>获取用户发布的问卷的列表</p>


<h3 id="请求参数-6"><a href="#请求参数-6" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的openid</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-6"><a href="#返回数据-6" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>object []</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">我发布的问卷的数组</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-0"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> id</span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷的id</span></td><td key="5"></td></tr><tr key="0-1"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷名</span></td><td key="5"></td></tr><tr key="0-2"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> description</span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷描述</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="提交简历"><a href="#提交简历" class="headerlink" title="提交简历"></a>提交简历</h2><p><a id="提交简历"> </a></p>
<h3 id="基本信息-7"><a href="#基本信息-7" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /submitResume</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>用户提交填写的简历</p>


<h3 id="请求参数-7"><a href="#请求参数-7" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Query</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>answer</td>
<td>是</td>
<td></td>
<td>用户回答的简历及答案</td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的openid</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-7"><a href="#返回数据-7" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="停止简历"><a href="#停止简历" class="headerlink" title="停止简历"></a>停止简历</h2><p><a id="停止简历"> </a></p>
<h3 id="基本信息-8"><a href="#基本信息-8" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /stopResume</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>使某个简历不再收到回答</p>


<h3 id="请求参数-8"><a href="#请求参数-8" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>idOfResume</td>
<td>text</td>
<td>是</td>
<td></td>
<td>简历id</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-8"><a href="#返回数据-8" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>string</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="搜索简历"><a href="#搜索简历" class="headerlink" title="搜索简历"></a>搜索简历</h2><p><a id="搜索简历"> </a></p>
<h3 id="基本信息-9"><a href="#基本信息-9" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /searchResume</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>根据用户的输入搜索简历</p>


<h3 id="请求参数-9"><a href="#请求参数-9" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的openid</td>
</tr>
<tr>
<td>value</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户在搜索框的输入</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-9"><a href="#返回数据-9" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>object []</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-0"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> id</span></td><td key="1"><span>number</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历id</span></td><td key="5"></td></tr><tr key="0-1"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历名</span></td><td key="5"></td></tr><tr key="0-2"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> description</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历描述</span></td><td key="5"></td></tr><tr key="0-3"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> idOfReleaser</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历发布者的openid</span></td><td key="5"></td></tr><tr key="0-4"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> reward</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">回答简历可以获得的奖励</span></td><td key="5"></td></tr><tr key="0-5"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> questions</span></td><td key="1"><span>object []</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历的问题</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-5-0"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题名</span></td><td key="5"></td></tr><tr key="0-5-1"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> answer</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题的回答，初始为null</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="搜索问卷"><a href="#搜索问卷" class="headerlink" title="搜索问卷"></a>搜索问卷</h2><p><a id="搜索问卷"> </a></p>
<h3 id="基本信息-10"><a href="#基本信息-10" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /searchSurvey</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>根据用户的输入搜索问卷</p>


<h3 id="请求参数-10"><a href="#请求参数-10" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的openid</td>
</tr>
<tr>
<td>value</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户在搜索框的输入</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-10"><a href="#返回数据-10" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>object []</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-0"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> id</span></td><td key="1"><span>number</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷id</span></td><td key="5"></td></tr><tr key="0-1"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷名</span></td><td key="5"></td></tr><tr key="0-2"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> description</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷描述</span></td><td key="5"></td></tr><tr key="0-3"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> numOfQuestions</span></td><td key="1"><span>number</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷问题数</span></td><td key="5"></td></tr><tr key="0-4"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> idOfReleaser</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷发布者的openid</span></td><td key="5"></td></tr><tr key="0-5"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> reward</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">回答问卷可以获得的奖励</span></td><td key="5"></td></tr><tr key="0-6"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> questions</span></td><td key="1"><span>object []</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷的问题</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-6-0"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> radio</span></td><td key="1"><span>boolean</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">是否单选</span></td><td key="5"></td></tr><tr key="0-6-1"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题名</span></td><td key="5"></td></tr><tr key="0-6-2"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> choices</span></td><td key="1"><span>string []</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题选项</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>string</span></p></td></tr><tr key="array-6485"><td key="0"><span style="padding-left: 60px"><span style="color: #8c8a8a">├─</span> </span></td><td key="1"><span></span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">A、B、C、D四个选项</span></td><td key="5"></td></tr><tr key="0-6-3"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> current</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">已选选项，初始为null</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="登录"><a href="#登录" class="headerlink" title="登录"></a>登录</h2><p><a id="登录"> </a></p>
<h3 id="基本信息-11"><a href="#基本信息-11" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /login</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>小程序端向微信服务器请求code发送给服务端，然后服务端向微信服务器获取该用户的openid，并在数据库为初次使用的用户添加信息，最后把openid返回给小程序</p>


<h3 id="请求参数-11"><a href="#请求参数-11" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>text</td>
<td>是</td>
<td></td>
<td>小程序wx.login()返回的code</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-11"><a href="#返回数据-11" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0-0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> openid</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">用户的openid</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="简历的答案列表"><a href="#简历的答案列表" class="headerlink" title="简历的答案列表"></a>简历的答案列表</h2><p><a id="简历的答案列表"> </a></p>
<h3 id="基本信息-12"><a href="#基本信息-12" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /resumeAnswerList</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>获取某个简历收到的答案的列表</p>


<h3 id="请求参数-12"><a href="#请求参数-12" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>idOfResume</td>
<td>text</td>
<td>是</td>
<td></td>
<td>某一简历的id</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-12"><a href="#返回数据-12" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>object []</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历的答案详情列表</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-0"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> nameOfUser</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">填写简历的用户名</span></td><td key="5"></td></tr><tr key="0-1"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历名</span></td><td key="5"></td></tr><tr key="0-2"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> questions</span></td><td key="1"><span>object</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题列表</span></td><td key="5"></td></tr><tr key="0-2-0"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题名</span></td><td key="5"></td></tr><tr key="0-2-1"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> answer</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题答案</span></td><td key="5"></td></tr><tr key="0-3"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> id</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">该答案的id</span></td><td key="5"></td></tr><tr key="0-4"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> imgSrc</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">用户回答简历时上传的图片URL</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="获取主页问卷列表"><a href="#获取主页问卷列表" class="headerlink" title="获取主页问卷列表"></a>获取主页问卷列表</h2><p><a id="获取主页问卷列表"> </a></p>
<h3 id="基本信息-13"><a href="#基本信息-13" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /home</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>获取主页的问卷的列表</p>


<h3 id="请求参数-13"><a href="#请求参数-13" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的openid</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-13"><a href="#返回数据-13" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>object []</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-0"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> id</span></td><td key="1"><span>number</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷id</span></td><td key="5"></td></tr><tr key="0-1"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷名</span></td><td key="5"></td></tr><tr key="0-2"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> description</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷描述</span></td><td key="5"></td></tr><tr key="0-3"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> numOfQuestions</span></td><td key="1"><span>number</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷问题数</span></td><td key="5"></td></tr><tr key="0-4"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> idOfReleaser</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷发布者的openid</span></td><td key="5"></td></tr><tr key="0-5"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> reward</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">回答问卷可以获得的奖励</span></td><td key="5"></td></tr><tr key="0-6"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> questions</span></td><td key="1"><span>object []</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷的问题</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-6-0"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> radio</span></td><td key="1"><span>boolean</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">是否单选</span></td><td key="5"></td></tr><tr key="0-6-1"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题名</span></td><td key="5"></td></tr><tr key="0-6-2"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> choices</span></td><td key="1"><span>string []</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题选项</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>string</span></p></td></tr><tr key="array-6486"><td key="0"><span style="padding-left: 60px"><span style="color: #8c8a8a">├─</span> </span></td><td key="1"><span></span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题1、2、3、4</span></td><td key="5"></td></tr><tr key="0-6-3"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> current</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">已选选项，初始为null</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="获取简历列表"><a href="#获取简历列表" class="headerlink" title="获取简历列表"></a>获取简历列表</h2><p><a id="获取简历列表"> </a></p>
<h3 id="基本信息-14"><a href="#基本信息-14" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /resume</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>获取简历的列表</p>


<h3 id="请求参数-14"><a href="#请求参数-14" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>openid</td>
<td>text</td>
<td>是</td>
<td></td>
<td>用户的openid</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-14"><a href="#返回数据-14" class="headerlink" title="返回数据"></a>返回数据</h3><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>object []</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap"></span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-0"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> id</span></td><td key="1"><span>number</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历id</span></td><td key="5"></td></tr><tr key="0-1"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历名</span></td><td key="5"></td></tr><tr key="0-2"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> description</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历描述</span></td><td key="5"></td></tr><tr key="0-3"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> idOfReleaser</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历发布者的openid</span></td><td key="5"></td></tr><tr key="0-4"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> reward</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">回答简历可以获得的奖励</span></td><td key="5"></td></tr><tr key="0-5"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> questions</span></td><td key="1"><span>object []</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">简历的问题</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-5-0"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题名</span></td><td key="5"></td></tr><tr key="0-5-1"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> answer</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题的回答，初始为null</span></td><td key="5"></td></tr>
               </tbody>
              </table>

<h2 id="问卷的答案列表"><a href="#问卷的答案列表" class="headerlink" title="问卷的答案列表"></a>问卷的答案列表</h2><p><a id="问卷的答案列表"> </a></p>
<h3 id="基本信息-15"><a href="#基本信息-15" class="headerlink" title="基本信息"></a>基本信息</h3><p><strong>Path：</strong> /surveyAnswerList</p>
<p><strong>Method：</strong> POST</p>
<p><strong>接口描述：</strong></p>
<p>获取某个问卷收到的答案的列表</p>


<h3 id="请求参数-15"><a href="#请求参数-15" class="headerlink" title="请求参数"></a>请求参数</h3><p><strong>Headers</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数值</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>application/x-www-form-urlencoded</td>
<td>是</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Body</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th>参数名称</th>
<th>参数类型</th>
<th>是否必须</th>
<th>示例</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>idOfSurvey</td>
<td>text</td>
<td>是</td>
<td></td>
<td>某一问卷的id</td>
</tr>
</tbody>
</table>
</div>
<h3 id="返回数据-15"><a href="#返回数据-15" class="headerlink" title="返回数据"></a>返回数据</h3><p><table>
  <thead class="ant-table-thead">
    <tr>
      <th key="name">名称</th><th key="type">类型</th><th key="required">是否必须</th><th key="default">默认值</th><th key="desc">备注</th><th key="sub">其他信息</th>
    </tr>
  </thead><tbody classname="ant-table-tbody"><tr key="0"><td key="0"><span style="padding-left: 0px"><span style="color: #8c8a8a"></span> </span></td><td key="1"><span>object []</span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷的答案详情列表</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>object</span></p></td></tr><tr key="0-0"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> nameOfUser</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">填写问卷的用户名</span></td><td key="5"></td></tr><tr key="0-1"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> title</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问卷名</span></td><td key="5"></td></tr><tr key="0-2"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> questions</span></td><td key="1"><span>object</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">问题</span></td><td key="5"></td></tr><tr key="0-2-0"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> choices</span></td><td key="1"><span>string []</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">选项列表</span></td><td key="5"><p key="3"><span style="font-weight: '700'">item 类型: </span><span>string</span></p></td></tr><tr key="array-6487"><td key="0"><span style="padding-left: 60px"><span style="color: #8c8a8a">├─</span> </span></td><td key="1"><span></span></td><td key="2">非必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">A、B、C、D四个选项</span></td><td key="5"></td></tr><tr key="0-2-1"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> current</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">已选选项</span></td><td key="5"></td></tr><tr key="0-2-2"><td key="0"><span style="padding-left: 40px"><span style="color: #8c8a8a">├─</span> radio</span></td><td key="1"><span>boolean</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">是否单选</span></td><td key="5"></td></tr><tr key="0-3"><td key="0"><span style="padding-left: 20px"><span style="color: #8c8a8a">├─</span> id</span></td><td key="1"><span>string</span></td><td key="2">必须</td><td key="3"></td><td key="4"><span style="white-space: pre-wrap">该答案的id</span></td><td key="5"></td></tr>
               </tbody>
              </table><br>​            </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/18/swsad-hw9/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/18/swsad-hw9/" itemprop="url">系统分析作业9</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-18T17:17:20+08:00">
                2019-06-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/系统分析/" itemprop="url" rel="index">
                    <span itemprop="name">系统分析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="使用类图，分别对Asg-RH文档中-Make-Reservation-用例以及-Payment-用例开展领域建模。然后，根据上述模型，给出建议的数据表以及主要字段，特别是主键和外键"><a href="#使用类图，分别对Asg-RH文档中-Make-Reservation-用例以及-Payment-用例开展领域建模。然后，根据上述模型，给出建议的数据表以及主要字段，特别是主键和外键" class="headerlink" title="使用类图，分别对Asg-RH文档中 Make Reservation 用例以及 Payment 用例开展领域建模。然后，根据上述模型，给出建议的数据表以及主要字段，特别是主键和外键"></a>使用类图，分别对<a href="https://sysu-swsad.github.io/swad-guide/material/Asg_RH.pdf" target="_blank" rel="noopener">Asg-RH</a>文档中 Make Reservation 用例以及 Payment 用例开展领域建模。然后，根据上述模型，给出建议的数据表以及主要字段，特别是主键和外键</h5><p>Make Reservation：</p>
<p><img src="https://i.loli.net/2019/06/18/5d08ca94b07e056660.png" alt="UTOOLS1560857235381.png"></p>
<p>数据建模：</p>
<p>Customer(ID/key, Name, EmailAddress)</p>
<p>Room(ID/key, Type, Price, IsAvaliable)</p>
<p>Hotel(ID/key, Name, Address, Telephone, Price, StarRating)</p>
<p>Location(ID/key, Name)</p>
<p>Reservation(ID/key, CheckinDate, numberOfNights, numberOfAdults, numberOfChildren)</p>
<p>Payment：</p>
<p><img src="https://i.loli.net/2019/06/18/5d08d2a7571e685082.png" alt="UTOOLS1560859298085.png"></p>
<p>数据建模：</p>
<p>Customer(ID/key, Name, EmailAddress)</p>
<p>CreditCard(CardNumber/key, Type, CardSecurityCode)</p>
<p>Payment(ID/key, TotalCost, CardType)</p>
<p>PaymentItem(ID/key, Total, Name)</p>
<p>CardholdersAddress(ID/key, Title, FirstName, LastName, Address1, Address2, City, CountryState, Country, Postcode, DaytimeTelephone, EveningTelephone)</p>
<p>CreditCardDetail(CardNumber, CardSecurityCode, ExpiryCode)</p>
<h5 id="使用-UML-State-Model，对每个订单对象生命周期建模"><a href="#使用-UML-State-Model，对每个订单对象生命周期建模" class="headerlink" title="使用 UML State Model，对每个订单对象生命周期建模"></a>使用 UML State Model，对每个订单对象生命周期建模</h5><p><img src="https://i.loli.net/2019/06/18/5d09080b0d71474548.png" alt="UTOOLS1560872969651.png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/20/swsad-hw7/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/20/swsad-hw7/" itemprop="url">系统分析作业7</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-20T20:00:40+08:00">
                2019-05-20
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/系统分析/" itemprop="url" rel="index">
                    <span itemprop="name">系统分析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="根据订旅馆建模文档，Asg-RH-pdf："><a href="#根据订旅馆建模文档，Asg-RH-pdf：" class="headerlink" title="根据订旅馆建模文档，Asg-RH.pdf："></a>根据订旅馆建模文档，<a href="https://sysu-swsad.github.io/swad-guide/material/Asg_RH.pdf" target="_blank" rel="noopener">Asg-RH.pdf</a>：</h5><h6 id="绘制用例图模型（到子用例）"><a href="#绘制用例图模型（到子用例）" class="headerlink" title="绘制用例图模型（到子用例）"></a>绘制用例图模型（到子用例）</h6><p><img src="/2019/05/20/swsad-hw7/hotel.png" alt="reserve hotel"></p>
<h6 id="给出-make-reservation-用例的活动图"><a href="#给出-make-reservation-用例的活动图" class="headerlink" title="给出 make reservation 用例的活动图"></a>给出 make reservation 用例的活动图</h6><p><img src="/2019/05/20/swsad-hw7/reserve activity.png" alt="activity"></p>
<h5 id="根据课程练习“投递员使用投递箱给收件人快递包裹”的业务场景"><a href="#根据课程练习“投递员使用投递箱给收件人快递包裹”的业务场景" class="headerlink" title="根据课程练习“投递员使用投递箱给收件人快递包裹”的业务场景"></a>根据课程练习“投递员使用投递箱给收件人快递包裹”的业务场景</h5><ul>
<li><p>分别用多泳道图建模三个场景的业务过程</p>
<p>场景1：<img src="/2019/05/20/swsad-hw7/swim-1.png" alt=""></p>
<p>场景2：<img src="/2019/05/20/swsad-hw7/swim-2.png" alt="swim-2"></p>
<p>场景3：<img src="/2019/05/20/swsad-hw7/swim-3.png" alt="swim-2"></p>
</li>
<li><p>根据上述流程，给出快递柜系统最终的用例图模型</p>
<ul>
<li><p>用正常色彩表示第一个业务流程反映的用例</p>
</li>
<li><p>用绿色背景表述第二个业务场景添加或修改的用例，以及支持 Actor</p>
</li>
<li><p>用黄色背景表述第三个业务场景添加或修改的用例，以及支持 Actor</p>
<p><img src="/2019/05/20/swsad-hw7/kuaidi.png" alt="kuaidi"></p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/17/swsad-hw6/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/17/swsad-hw6/" itemprop="url">系统分析作业6</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-17T14:35:32+08:00">
                2019-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/系统分析/" itemprop="url" rel="index">
                    <span itemprop="name">系统分析</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="简答题"><a href="#简答题" class="headerlink" title="简答题"></a>简答题</h4><h5 id="用例的概念"><a href="#用例的概念" class="headerlink" title="用例的概念"></a>用例的概念</h5><p>用例就是一组相关的成功和失败场景集合，用来描述参与者如何使用系统来实现其目标。</p>
<h5 id="用例和场景的关系？什么是主场景或-happy-path？"><a href="#用例和场景的关系？什么是主场景或-happy-path？" class="headerlink" title="用例和场景的关系？什么是主场景或 happy path？"></a>用例和场景的关系？什么是主场景或 happy path？</h5><p>场景是参与者和系统之间的一系列特定的活动和交互，也称为用例实例。场景是使用系统的一个特定情节或用例的一条执行路径。所以说，场景是用例的实例，用例是场景的集合。</p>
<p>主场景或happy path描述了满足涉众关注点的典型成功路径。要注意的是,它通常不包括任何条件或分支。虽然包含条件或分支并不是错误,但是,保持一定的连贯性,并且将所有条件处理都推延至扩展部分,这种具有争议的做法更易于理解和扩展。</p>
<h5 id="用例有哪些形式？"><a href="#用例有哪些形式？" class="headerlink" title="用例有哪些形式？"></a>用例有哪些形式？</h5><ul>
<li>摘要（Brief）——简洁的一段式摘要，通常用于主成功场景。</li>
<li>非正式（Casual）——非正式的段落格式。用几个段落覆盖不同场景。</li>
<li>详述（Fully）——详细编写所有步骤即各种变化，同时具有补充部分，如前置条件和成功保证。</li>
</ul>
<h5 id="对于复杂业务，为什么编制完整用例非常难？"><a href="#对于复杂业务，为什么编制完整用例非常难？" class="headerlink" title="对于复杂业务，为什么编制完整用例非常难？"></a>对于复杂业务，为什么编制完整用例非常难？</h5><p>复杂的业务涉及到的场景非常多，业务流程复杂繁琐，且场景与场景之间也有各种各样的关联，要编制完整用例不但需要熟悉各种业务场景和流程，还要懂得建模相关的专业知识，如何分离和提炼一个场景的主要元素也是在复杂场景中显得尤为重要和困难。</p>
<h5 id="什么是用例图？"><a href="#什么是用例图？" class="headerlink" title="什么是用例图？"></a>什么是用例图？</h5><p>用例图是一种优秀的系统语境图；也就是说，用例图能够展示系统边界、位于边界之外的事物以及系统如何被使用。用例图可以作为沟通的工具，用以概括系统及其参与者的行为。</p>
<h5 id="用例图的基本符号与元素？"><a href="#用例图的基本符号与元素？" class="headerlink" title="用例图的基本符号与元素？"></a>用例图的基本符号与元素？</h5><p>Actor：系统的主要参与者，指与系统交互的角色。可以是人、计算机系统、组织等。符号为：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>元素</th>
<th style="text-align:center">符号</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>参与者</td>
<td style="text-align:center"><img src="https://i.loli.net/2019/05/19/5ce0c856dc47c31049.png" alt="UTOOLS1558235224466.png"></td>
<td>表示系统的主要参与者，指与系统交互的角色。可以是人、计算机系统、组织等</td>
</tr>
<tr>
<td>用例</td>
<td style="text-align:center"><img src="https://i.loli.net/2019/05/19/5ce0c918c5eb579270.png" alt="UTOOLS1558235417838.png"></td>
<td>表示一组相关的成功和失败场景集合</td>
</tr>
<tr>
<td>系统边界</td>
<td style="text-align:center"><img src="https://i.loli.net/2019/05/19/5ce0caba02fec34800.png" alt="UTOOLS1558235830954.png"></td>
<td>表示正在建模的系统的边界</td>
</tr>
<tr>
<td>关联关系</td>
<td style="text-align:center"><img src="https://i.loli.net/2019/05/19/5ce149b23e90d57083.png" alt="1558235994831.png"></td>
<td>表示参与者与用例之间的关系</td>
</tr>
<tr>
<td>包含关系</td>
<td style="text-align:center"><img src="https://i.loli.net/2019/05/19/5ce149d60d7ad14530.png" alt="1558236055283.png"></td>
<td>表示子用例是父用例的一部分，通常强调离开这个特性，父用例无法达成目标或失去意义，箭头指向子用例</td>
</tr>
<tr>
<td>拓展关系</td>
<td style="text-align:center"><img src="https://i.loli.net/2019/05/19/5ce0cebeb35c356119.png" alt="UTOOLS1558236865186.png"></td>
<td>表示子用例是父用例的可选场景或技术特征，箭头指向父用例</td>
</tr>
<tr>
<td>泛化关系</td>
<td style="text-align:center"><img src="https://i.loli.net/2019/05/19/5ce0ce90f040626591.png" alt="UTOOLS1558236817784.png"></td>
<td>表示一个父用例可以被特定化形成多个子用例，而父用例和子用例之间的关系就是泛化关系</td>
</tr>
</tbody>
</table>
</div>
<h5 id="用例图的画法与步骤"><a href="#用例图的画法与步骤" class="headerlink" title="用例图的画法与步骤"></a>用例图的画法与步骤</h5><ul>
<li>确定系统的范围和边界</li>
<li>确定参与者：主要参与者，协作参与者，幕后参与者</li>
<li>描述用例</li>
<li>确定参与者之间的关系和用例间的关系（包含，扩展）</li>
<li>对用例分类，并确定用例之间的关系</li>
<li>建立用例图，并定义用例图的层次结构</li>
<li>评审用例模型</li>
</ul>
<h5 id="用例图给利益相关人与开发者的价值有哪些？"><a href="#用例图给利益相关人与开发者的价值有哪些？" class="headerlink" title="用例图给利益相关人与开发者的价值有哪些？"></a>用例图给利益相关人与开发者的价值有哪些？</h5><ul>
<li>对利益相关人来说<ul>
<li>明确系统的业务范围、服务对象（角色）、外部系统与设备</li>
<li>可以直观看到系统的结果和用户的功能体验，保证系统按照用户的需求进行设计</li>
<li>用例能够根据需要对复杂程度和形式化程序进行增减调节，即能够响应用户（利益相关人)提出的需求，而用例图则使得这种调节更加便利，可以通过修改图形间的关系实现</li>
</ul>
</li>
<li>对开发者来说<ul>
<li>帮助识别技术风险，提前实施关键技术原型公关与学习</li>
<li>易于评估项目工作量，合理规划迭代周期，规划人力需要</li>
<li>用例图可以指导开发和测试，同时可以在整个过程中对其他工作流起到指导作用</li>
</ul>
</li>
</ul>
<h4 id="建模练习题（用例模型）"><a href="#建模练习题（用例模型）" class="headerlink" title="建模练习题（用例模型）"></a>建模练习题（用例模型）</h4><h5 id="选择2-3个你熟悉的类似业务的在线服务系统（或移动-APP），如定旅馆（携程、去哪儿等）、定电影票、背单词APP等，分别绘制它们用例图。并满足以下要求："><a href="#选择2-3个你熟悉的类似业务的在线服务系统（或移动-APP），如定旅馆（携程、去哪儿等）、定电影票、背单词APP等，分别绘制它们用例图。并满足以下要求：" class="headerlink" title="选择2-3个你熟悉的类似业务的在线服务系统（或移动 APP），如定旅馆（携程、去哪儿等）、定电影票、背单词APP等，分别绘制它们用例图。并满足以下要求："></a>选择2-3个你熟悉的类似业务的在线服务系统（或移动 APP），如定旅馆（携程、去哪儿等）、定电影票、背单词APP等，分别绘制它们用例图。并满足以下要求：</h5><ul>
<li>请使用用户的视角，描述用户目标或系统提供的服务</li>
<li>粒度达到子用例级别，并用 include 和 exclude 关联它们</li>
<li>请用色彩标注出你认为创新（区别于竞争对手的）用例或子用例</li>
<li>尽可能识别外部系统和服务</li>
</ul>
<p><img src="/2019/05/17/swsad-hw6/wanda.png" alt="万达电影+.png"></p>
<p><img src="/2019/05/17/swsad-hw6/12306.png" alt="12306"></p>
<h5 id="然后，回答下列问题"><a href="#然后，回答下列问题" class="headerlink" title="然后，回答下列问题"></a>然后，回答下列问题</h5><h6 id="为什么相似系统的用例图是相似的？"><a href="#为什么相似系统的用例图是相似的？" class="headerlink" title="为什么相似系统的用例图是相似的？"></a>为什么相似系统的用例图是相似的？</h6><p>因为它们的用例都是相似的，所以用例图也就相似。</p>
<h6 id="如果是定旅馆业务，请对比-Asg-RH-用例图，简述如何利用不同时代、不同地区产品的用例图，展现、突出创新业务和技术"><a href="#如果是定旅馆业务，请对比-Asg-RH-用例图，简述如何利用不同时代、不同地区产品的用例图，展现、突出创新业务和技术" class="headerlink" title="如果是定旅馆业务，请对比 Asg_RH 用例图，简述如何利用不同时代、不同地区产品的用例图，展现、突出创新业务和技术"></a>如果是定旅馆业务，请对比 Asg_RH 用例图，简述如何利用不同时代、不同地区产品的用例图，展现、突出创新业务和技术</h6><p>随着时间的推移，计算机技术的软件和硬件都得到了快速的发展，新的技术不断投入到使用中，很多业务也都从PC端迁移到了移动端， 比如Asg_RH中的系统就是PC端的，而现如今大部分的订旅馆业务都是在移动端完成的，一个很大的进步的例子就是移动端可以利用GPS定位技术快速定位并且推荐就近旅馆。</p>
<h6 id="如何利用用例图定位创新思路（业务创新、或技术创新、或商业模式创新）在系统中的作用"><a href="#如何利用用例图定位创新思路（业务创新、或技术创新、或商业模式创新）在系统中的作用" class="headerlink" title="如何利用用例图定位创新思路（业务创新、或技术创新、或商业模式创新）在系统中的作用"></a>如何利用用例图定位创新思路（业务创新、或技术创新、或商业模式创新）在系统中的作用</h6><p>用例图能够帮助我们清晰地看到用户的需求以及系统是如何被使用的，这样就有利于我们去分析系统的优缺点，从而有利于找到改进的思路去进行相应的创新。</p>
<h6 id="请使用-SCRUM-方法，选择一个用例图，编制某定旅馆开发的需求（backlog）开发计划表"><a href="#请使用-SCRUM-方法，选择一个用例图，编制某定旅馆开发的需求（backlog）开发计划表" class="headerlink" title="请使用 SCRUM 方法，选择一个用例图，编制某定旅馆开发的需求（backlog）开发计划表"></a>请使用 SCRUM 方法，选择一个用例图，编制某定旅馆开发的需求（backlog）开发计划表</h6><p>选择上面万达电影+的用例图</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>ID</th>
<th>Title</th>
<th>Est</th>
<th>Iter</th>
<th>Imp</th>
</tr>
</thead>
<tbody>
<tr>
<td>10101</td>
<td>Buy ticket</td>
<td>2</td>
<td>1</td>
<td>5</td>
</tr>
<tr>
<td>10102</td>
<td>Choose cinema</td>
<td>2</td>
<td>2</td>
<td>3</td>
</tr>
<tr>
<td>10103</td>
<td>Choose movie</td>
<td>2</td>
<td>24</td>
<td>4</td>
</tr>
<tr>
<td>10104</td>
<td>Choose time</td>
<td>2</td>
<td>2</td>
<td>4</td>
</tr>
<tr>
<td>10105</td>
<td>Choose seat</td>
<td>2</td>
<td>1</td>
<td>4</td>
</tr>
<tr>
<td>10106</td>
<td>Show optional seats</td>
<td>3</td>
<td>2</td>
<td>4</td>
</tr>
<tr>
<td>10107</td>
<td>Help choose seat</td>
<td>3</td>
<td>4</td>
<td>1</td>
</tr>
<tr>
<td>10108</td>
<td>Pay</td>
<td>2</td>
<td>2</td>
<td>5</td>
</tr>
<tr>
<td>10109</td>
<td>Cancel the order</td>
<td>2</td>
<td>1</td>
<td>5</td>
</tr>
</tbody>
</table>
</div>
<h6 id="根据任务4，参考-使用用例点估算软件成本，给出项目用例点的估算"><a href="#根据任务4，参考-使用用例点估算软件成本，给出项目用例点的估算" class="headerlink" title="根据任务4，参考 使用用例点估算软件成本，给出项目用例点的估算"></a>根据任务4，参考 <a href="https://www.ibm.com/developerworks/cn/rational/edge/09/mar09/collaris_dekker/index.html" target="_blank" rel="noopener">使用用例点估算软件成本</a>，给出项目用例点的估算</h6><div class="table-container">
<table>
<thead>
<tr>
<th>用例</th>
<th>#事务</th>
<th>#计算</th>
<th>原因</th>
<th>UC权重</th>
</tr>
</thead>
<tbody>
<tr>
<td>Buy ticket</td>
<td>10</td>
<td>7</td>
<td></td>
<td>复杂</td>
</tr>
<tr>
<td>Choose cinema</td>
<td>6</td>
<td>4</td>
<td>地图和GPS</td>
<td>平均</td>
</tr>
<tr>
<td>Choose movie</td>
<td>4</td>
<td>3</td>
<td></td>
<td>简单</td>
</tr>
<tr>
<td>Choose time</td>
<td>3</td>
<td>3</td>
<td></td>
<td>简单</td>
</tr>
<tr>
<td>Choose seat</td>
<td>3</td>
<td>3</td>
<td></td>
<td>简单</td>
</tr>
<tr>
<td>Show optional seats</td>
<td>3</td>
<td>3</td>
<td></td>
<td>简单</td>
</tr>
<tr>
<td>Help choose seat</td>
<td>5</td>
<td>4</td>
<td>多种情况智能推荐</td>
<td>平均</td>
</tr>
<tr>
<td>Pay</td>
<td>3</td>
<td>3</td>
<td></td>
<td>简单</td>
</tr>
<tr>
<td>Cancel the order</td>
<td>3</td>
<td>3</td>
<td></td>
<td>简单</td>
</tr>
</tbody>
</table>
</div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/03/Dynamic-Programmming/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/05/03/Dynamic-Programmming/" itemprop="url">动态规划</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-03T16:44:51+08:00">
                2019-05-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/leetcode/" itemprop="url" rel="index">
                    <span itemprop="name">leetcode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前一阵子做leetcode动态规划的题做得有点心态爆炸，导致我有一段时间都没有动力了，果然我还是太菜了。</p>
<p><img src="/2019/05/03/Dynamic-Programmming/cai.png" alt="cai"></p>
<p>于是今天就找了本书看了一下动态规划，它的思想类似于递归，也是把问题分成小问题来解决，但是与递归相比它的好处是可以记住已经求过的子问题的解，从而可以大大节省时间。</p>
<p>举个很简单的例子，求斐波那契数列，用递归来实现的话代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> fib(n<span class="number">-1</span>) + fib(n<span class="number">-2</span>)</span><br></pre></td></tr></table></figure>
<p>用动态规划来实现的话代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span> <span class="keyword">or</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    fib1 = fib2 = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-2</span>):</span><br><span class="line">        fib1, fib2 = fib2, fib1 + fib2</span><br><span class="line">    <span class="keyword">return</span> fib2</span><br></pre></td></tr></table></figure>
<p>可以把递归看作是自顶向下的，比如说要计算fib(4)就要计算fib(3)和fib(2)，要计算fib(3)就要计算fib(2)和fib(1)等等，可以看出其中最大的问题是重复计算，比如说在求fib(4)的时候要调用fib(2)，再求fib(3)的时候也要调用fib(2)。而动态规划可以看作是自底向上的，从fib(1)、fib(2)开始逐渐向后推导，这样就没有重复的计算了。</p>
<p>然后拿道题试一下，我随便选了第<a href="https://leetcode.com/problems/delete-operation-for-two-strings/" target="_blank" rel="noopener">583</a>道题，题目描述如下：</p>
<p><img src="https://i.loli.net/2019/05/03/5ccc093840503.png" alt="UTOOLS1556875578437.png"></p>
<p>大概意思是给你俩单词，然后删掉其中的一些字母使它俩一样，我们要找的是最少的步数，那么对应的最后留下的相同部分是最长的公共子序列，这样问题就可以转换为求两个字符串的最长公共子序列了。题目要求的步数也就是两个字符串的长度相加再减去二倍的最长公共子序列的长度。</p>
<p>用递归的做法为（其实我刚开始没想到，看了答案才知道的）：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minDistance</span><span class="params">(self, word1: str, word2: str)</span> -&gt; int:</span></span><br><span class="line">    	<span class="keyword">return</span> len(word1) + len(word2) - <span class="number">2</span> * self.lcs(word1, word2, len(word1), len(word2))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lcs</span><span class="params">(self, word1, word2, m, n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">0</span> <span class="keyword">or</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> word1[m<span class="number">-1</span>] == word2[n<span class="number">-1</span>]:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span> + self.lcs(word1, word2, m<span class="number">-1</span>, n<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> max(self.lcs(word1, word2, m<span class="number">-1</span>, n), self.lcs(word1, word2, m, n<span class="number">-1</span>))</span><br></pre></td></tr></table></figure>
<p>与前面说得一样，可以把递归看作是自顶向下的，我们是从后向前求的。用动态规划的做法为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minDistance</span><span class="params">(self, word1: str, word2: str)</span> -&gt; int:</span></span><br><span class="line">        m, n = len(word1), len(word2)</span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> m</span><br><span class="line">        dp = [[<span class="number">0</span>]*(n+<span class="number">1</span>) <span class="keyword">for</span> i <span class="keyword">in</span> range(m+<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, m+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> word2[j<span class="number">-1</span>] == word1[i<span class="number">-1</span>]:</span><br><span class="line">                    dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i][j] = max(dp[i<span class="number">-1</span>][j], dp[i][j<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, m+<span class="number">1</span>):</span><br><span class="line">            print(dp[i][<span class="number">1</span>:n+<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> m + n - <span class="number">2</span> * dp[m][n]</span><br></pre></td></tr></table></figure>
<p>我从算法图解这本书里面找了几张很直观的图（其实刚开始我说的那本书就是这本）：</p>
<p><img src="https://i.loli.net/2019/05/03/5ccc15030ea9c.png" alt="1556876872369.png"></p>
<p><img src="https://i.loli.net/2019/05/03/5ccc0e5feddee.png" alt="UTOOLS1556876898363.png"></p>
<p>伪代码为：</p>
<p><img src="https://i.loli.net/2019/05/03/5ccc0f900cdcb.png" alt="UTOOLS1556877202278.png"></p>
<p>我们可以发现网格中每一行的值总是依赖于上一行的，于是我们可以把二维的网格简化为一维的列表，具体做法为，只初始化一个列表，然后每一次迭代开始的时候先复制一次这个列表然后再利用这个列表来进行值的更新，代码为：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minDistance</span><span class="params">(self, word1: str, word2: str)</span> -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">minDistance2</span><span class="params">(self, word1: str, word2: str)</span> -&gt; int:</span></span><br><span class="line">        m, n = len(word1), len(word2)</span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> m</span><br><span class="line">        dp = [<span class="number">0</span>] * (n+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(m):</span><br><span class="line">            tem = dp.copy()</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> word2[j<span class="number">-1</span>] == word1[i]:</span><br><span class="line">                    dp[j] = tem[j<span class="number">-1</span>] + <span class="number">1</span><span class="comment">#tem[j-1]相当于dp[i-1][j-1]</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[j] = max(dp[j<span class="number">-1</span>], dp[j])<span class="comment">#dp[j-1]就相当于dp[i][j-1],dp[j]就相当于dp[i-1][j]</span></span><br><span class="line">            print(dp[<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">return</span> m + n - <span class="number">2</span> * dp[n]</span><br></pre></td></tr></table></figure>
<p>刚开始的时候我没有把dp复制一次，当word2[j-1] == word1[i]的时候我也直接用dp[j] = dp[j-1] + 1来更新的，后来发现这样是不对的，因为dp[j-1]不一定等于tem[j-1]，为什么这么说呢？举个例子，word1是ace，word2是exe，这样对应的网格就应该为：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong>e</strong></th>
<th><strong>x</strong></th>
<th><strong>e</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>a</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>c</strong></td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>e</strong></td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p>关键就在于最后一行，如果使用dp[j] = dp[j-1] + 1来更新的话，那么网格中右下角中的那个值就应该为2了，也能够看出这个问题出现的原因是exe中含有两个e，但是ace的e只能算一次。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/18/Pytorch-notes2/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="天地一键">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="天地一键">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/18/Pytorch-notes2/" itemprop="url">Pytorch-notes2</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-04-18T15:56:29+08:00">
                2019-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Pytorch学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">Pytorch学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="Dropout"><a href="#Dropout" class="headerlink" title="Dropout"></a>Dropout</h5><p>可以使用nn.Dropout来降低过拟合的风险，具体用法示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mymodel</span><span class="params">(nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.fc1 = nn.Linear(<span class="number">784</span>, <span class="number">256</span>)</span><br><span class="line">        self.fc2 = nn.Linear(<span class="number">256</span>, <span class="number">128</span>)</span><br><span class="line">        self.fc3 = nn.Linear(<span class="number">128</span>, <span class="number">64</span>)</span><br><span class="line">        self.fc4 = nn.Linear(<span class="number">64</span>, <span class="number">10</span>)</span><br><span class="line">        </span><br><span class="line">        self.dropout = nn.Dropout(p=<span class="number">0.2</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        x = x.view(x.shape[<span class="number">0</span>], <span class="number">784</span>)</span><br><span class="line">        </span><br><span class="line">        x = self.dropout(F.relu(self.fc1(x)))</span><br><span class="line">        x = self.dropout(F.relu(self.fc2(x)))</span><br><span class="line">        x = self.dropout(F.relu(self.fc3(x)))</span><br><span class="line">        x = F.log_softmax(self.fc4(x), dim=<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure>
<p>Dropout需要一个决定每一个neuron dropout的概率的参数，训练的时候要用model.train()模式，测试或验证的时候要用model.eval()模式，这个模式中所有的neuron都不会dropout。</p>
<h5 id="GPU"><a href="#GPU" class="headerlink" title="GPU"></a>GPU</h5><p>使用GPU只需要把model和传入model的Tensor转为cuda即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">device = torch.device(<span class="string">"cuda:0"</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">"cpu"</span>)<span class="comment">#第一行代码</span></span><br><span class="line"><span class="comment">#if torch.cuda.device_count() &gt; 1: #多个GPU</span></span><br><span class="line"><span class="comment">#  model = nn.DataParallel(model)</span></span><br><span class="line">model.to(device)<span class="comment">#第二行代码</span></span><br><span class="line">mytensor = my_tensor.to(device)<span class="comment">#第三行代码</span></span><br></pre></td></tr></table></figure>
<h5 id="SoftMax"><a href="#SoftMax" class="headerlink" title="SoftMax"></a>SoftMax</h5><script type="math/tex; mode=display">
\operatorname{Softmax}\left(x_{i}\right)=\frac{\exp \left(x_{i}\right)}{\sum_{j} \exp \left(x_{j}\right)}</script><p>分类任务中尝使用Softmax作为输出的概率，相关的还有LogSoftmax，就是对Softmax的输出取了对数：</p>
<script type="math/tex; mode=display">
\operatorname{LogSoftmax}\left(x_{i}\right)=\log \left(\frac{\exp \left(x_{i}\right)}{\sum_{j} \exp \left(x_{j}\right)}\right)</script><p>分类任务中的loss常用对数似然损失函数：</p>
<script type="math/tex; mode=display">
J\left(W, b, a^{L}, y\right)=-\sum_{k} y_{k} \ln a_{k}^{L}</script><p>其中$ a_{k} $就是Softmax的输出，$ y_{k} $的值为0或1，当某一训练样本属于第i类的时候，$ y_{i} $=1。Pytorch中的NLLLoss和CrossEntropyLoss是用来计算对数似然损失的，区别是，NLLLoss的输入是LogSoftmax的输出和labels，CrossEntropyLoss结合了LogSoftmax和NLLLoss，它的一个输入和LogSoftmax相同，另一个则是labels。CrossEntropyLoss的表达式为：</p>
<script type="math/tex; mode=display">
\operatorname{loss}(x, c l a s s)=-\log \left(\frac{\exp (x[c l a s s])}{\sum_{j} \exp (x[j])}\right)=-x[c l a s s]+\log \left(\sum_{j} \exp (x[j])\right)</script><p>一种推荐做法是以LogSoftmax作为网络的输出层，NLLLoss作为损失函数，这样做的好处是只需对输出做exp()就可以得到概率。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">天地一键</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">70</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">天地一键</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
